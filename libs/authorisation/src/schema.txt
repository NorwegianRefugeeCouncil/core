entity user {

} 

entity position {
    relation staff @user
}

entity team {
    relation position @position
    permission member = position.staff
}

entity organisation {
    // position roles 
    relation p_staff_admin @position#staff
    relation p_system_admin @position#staff
    relation p_programmatic_viewer @position#staff
    relation p_programmatic_editor @position#staff
    relation p_programmatic_admin @position#staff

    // team roles
    relation t_staff_admin @team
    relation t_system_admin @team
    relation t_programmatic_viewer @team
    relation t_programmatic_editor @team
    relation t_programmatic_admin @team

    // roles
    permission staff_admin = p_staff_admin or t_staff_admin.member
    permission system_admin = p_system_admin or t_system_admin.member
    permission programmatic_viewer = p_programmatic_viewer or t_programmatic_viewer.member
    permission programmatic_editor = p_programmatic_editor or t_programmatic_editor.member
    permission programmatic_admin = p_programmatic_admin or t_programmatic_admin.member

    // programmatic permissions
    permission view_programme_data = programmatic_viewer or programmatic_editor or programmatic_admin
    permission edit_programme_data = programmatic_editor or programmatic_admin
    permission delete_programme_data = programmatic_admin

    // staff permissions
    permission edit_staff_data =  staff_admin
}

